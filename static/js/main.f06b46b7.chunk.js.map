{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","Services/API.jsx","App.js","index.js","Components/SearchBar/SearchBar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","target","name","value","setState","toLowerCase","className","style","onSubmit","this","props","SearchForm","type","SearchFormButton","SearchFormButtonLabel","text","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onOpen","src","alt","ImageGalleryItemImage","ImageGallery","imgArr","onClick","e","dataset","source","map","id","modalImg","Button","Loader","color","height","width","timeout","position","top","left","Modal","closeModalByESC","key","modalClose","window","addEventListener","removeEventListener","Overlay","imagesAPI","fetchImages","img","page","fetch","then","response","ok","json","Status","App","searchImg","loading","isModalOpen","error","status","handleSubmit","event","preventDefault","trim","toast","handleLoadeMore","currentPage","hendelOpenModal","hendelCloseModal","prevProps","prevState","prevName","nextName","prevPage","nextPage","imagesApi","hits","scrollTo","document","body","scrollHeight","behavior","total","Promise","reject","Error","catch","resolvedImg","length","autoClose","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f06b46b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2PaM5\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1dTac\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3WI-V\",\"Modal\":\"Modal_Modal__2SsBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3_rty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__Ka68f\"};","import { Component } from \"react\";\r\nimport style from \"./SearchBar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { inputValue: \"\" };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n\r\n    this.setState({ [name]: value.toLowerCase() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form onSubmit={this.props.onSubmit} className={style.SearchForm}>\r\n          <button type=\"submit\" className={style.SearchFormButton}>\r\n            <span className={style.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"inputValue\"\r\n            value={this.state.text}\r\n            onChange={this.handleChange}\r\n            className={style.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, tags, largeImageURL, onOpen }) {\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        // onClick={onOpen}\r\n        data-source={largeImageURL}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string.isRequired,\r\n  onOpen: PropTypes.func,\r\n  modalImg: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport style from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ imgArr, onOpen }) {\r\n  return (\r\n    <ul\r\n      className={style.ImageGallery}\r\n      onClick={(e) => onOpen(e.target.dataset.source)}\r\n    >\r\n      {imgArr.map(({ webformatURL, id, tags, modalImg }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          tags={tags}\r\n          webformatURL={webformatURL}\r\n          modalImg={modalImg}\r\n          onOpen={onOpen}\r\n        />\r\n      ))}\r\n      {/* {imgArr.map((imgArr) => (\r\n        <ImageGalleryItem key={imgArr.id} imgArr={imgArr} onOpen={onOpen} />\r\n      ))} */}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  imgArr: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      modalImg: PropTypes.string,\r\n    })\r\n  ),\r\n  onOpen: PropTypes.func,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={style.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\n// import style from \"./Button.module.css\";\r\n\r\n// function Button({ onClick }) {\r\n//   return (\r\n//     <button onClick={onClick} className={style.Button}>\r\n//       Load More\r\n//     </button>\r\n//   );\r\n// }\r\n\r\n// export default Button;\r\n","import React, { Component } from \"react\";\r\nimport ReactLoaderSpinner from \"react-loader-spinner\";\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <ReactLoaderSpinner\r\n        type=\"Hearts\"\r\n        color=\"#85309f\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"47%\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModalByESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModalByESC);\r\n  }\r\n\r\n  closeModalByESC = (e) => {\r\n    if (e.key !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.modalClose();\r\n  };\r\n\r\n  render() {\r\n    const { modalImg, modalClose } = this.props;\r\n\r\n    return (\r\n      <div className={style.Overlay} onClick={modalClose}>\r\n        <div className={style.Modal}>\r\n          <img src={modalImg} alt=\"\" />\r\n        </div>\r\n      </div>\r\n      // <div onClick={modalClose} className={style.Overlay}>\r\n      //   <div className={style.Modal}>\r\n      //     <img src={modalImg} alt=\"\" />\r\n      //   </div>\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","function fetchImages(img, page) {\r\n  const API_KEY = \"23793880-43251762e8c5681d941546cf6\";\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${img}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    // return Promise.reject(new Error(`No pictures \"${img} were found`));\r\n  });\r\n}\r\n\r\nconst imagesAPI = { fetchImages };\r\n\r\nexport default imagesAPI;\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Searchbar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal/Modal\";\nimport imagesApi from \"./Services/API\";\n\nconst Status = {\n  IDLE: \"idle\", // стоїть на місці\n  PENDING: \"pending\", // очікується\n  RESOLVED: \"resolved\", // виконалось\n  REJECTED: \"rejected\", // відхилено\n};\n\nclass App extends Component {\n  state = {\n    searchImg: \"\",\n    page: 1,\n    imgArr: [],\n    loading: false,\n    // currentPage: null,\n    largeImageURL: \"\",\n    isModalOpen: false,\n    error: null,\n    status: Status.IDLE,\n    webformatURL: \"\",\n    id: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.searchImg;\n    const nextName = this.state.searchImg;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    if (prevName !== nextName) {\n      this.setState({ imgArr: [], page: 1, status: Status.PENDING });\n    }\n    if (prevName !== nextName || prevPage !== nextPage) {\n      this.fetchImages(nextName, nextPage);\n    }\n  }\n  // if (\n  //   prevState.currentPage !== this.state.currentPage ||\n  //   !this.state.img.length\n  // ) {\n  fetchImages(nextName, nextPage) {\n    imagesApi\n      .fetchImages(nextName, nextPage)\n      .then((imgArr) => {\n        this.setState((prevState) => {\n          return {\n            imgArr: [...prevState.imgArr, ...imgArr.hits],\n            status: Status.RESOLVED,\n          };\n        });\n        if (nextPage !== 1) {\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n        if (imgArr.total === 0) {\n          return Promise.reject(new Error(\"Incorrect input\"));\n        }\n      })\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    // .finally(() => this.setState({ loading: false }));\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { value } = event.target[1];\n    if (value.trim() === \"\") {\n      return toast.error(\"Enter name of picture you are looking for!\");\n    }\n\n    this.setState({\n      searchImg: value.toLowerCase(),\n      loading: true,\n      page: 1,\n      imgArr: [],\n    });\n  };\n\n  // handleLoadeMore = () => {\n  //   this.setState(({ page }) => ({\n  //     page: page + 1,\n  //     // loading: true,\n  //   }));\n  // };\n\n  // onOpen = (e) => {\n  //   this.setState({ modalImg: e.target.dataset.source });\n  //   this.toggleModal();\n  // };\n  // toggleModal = () => {\n  //   this.setState(({ isModalOpen }) => ({\n  //     isModalOpen: !isModalOpen,\n  //   }));\n  // };\n  handleLoadeMore = () => {\n    this.setState((currentPage) => ({\n      page: currentPage.page + 1,\n    }));\n  };\n  hendelOpenModal = (img) => {\n    this.setState({\n      isModalOpen: true,\n      modalImg: img,\n    });\n  };\n  hendelCloseModal = () => {\n    this.setState({ isModalOpen: false, modalImg: \"\" });\n  };\n  render() {\n    const { imgArr, error, status, isModalOpen, modalImg } = this.state;\n    const resolvedImg = status === Status.RESOLVED && imgArr.length > 11;\n    // loading, currentPage,\n    return (\n      <>\n        <ToastContainer autoClose={3000} />\n        <Searchbar onSubmit={this.handleSubmit} />\n        {status === Status.IDLE && (\n          <h2 className=\"invitation\">Use Search above!</h2>\n        )}\n        {status === Status.REJECTED && <h1>{error.message}</h1>}\n\n        {resolvedImg && (\n          <ImageGallery imgArr={imgArr} onOpen={this.hendelOpenModal} />\n        )}\n        {status === Status.PENDING && <Loader />}\n        {imgArr.length !== 0 && <Button onClick={this.handleLoadeMore} />}\n        {isModalOpen && (\n          <Modal modalImg={modalImg} modalClose={this.hendelCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2mzcr\",\"SearchForm\":\"SearchBar_SearchForm___ywuu\",\"SearchFormButton\":\"SearchBar_SearchFormButton__bXkGe\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__22KUj\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3oCDe\"};"],"sourceRoot":""}